#### Shortcuts &D-Menu for GoogleChrome

###### [使い方](#usage) ・ [注意事項](#notes) ・ [Utility Object Reference](#utilobj)
> 

###### はじめに

> この度は本ソフトをダウンロードいただきありがとうございます。  
> 
> 本ソフトは、GoogleChromeの主にキーボードショートカットの機能を拡張するもので、以下の特徴・機能があります。

###### Features

> **ショートカットキーへのキーマッピング（再割り当て）機能**
>
> > ショートカットキーに、ほぼすべてのキー入力をマッピング（再割り当て）できます。
> >
> > ショートカットキー to ショートカットキーも可能なので、Chrome標準のショートカットキー機能のキーアサインを  
> > 別のショートカットキーに割り当てることができます。  
> >
> > また、トリガーに、ショートカットキーではなく、マウスイベントやコンテキストメニューを割り当てることもできます。  

> **ブックマークの割り当て・サーチ機能**
> 
> > ショートカットキーにブックマークを割り当てられます。
> >
> > 既に開いている場合は、タブを検索してアクティブにできます。

> **拡張コマンド機能**
>
> > 次のコマンドをショートカットキーに割り当てて、ショートカットキーの機能を拡張することができます。  
> > 
> > 1. 主にタブ周りの機能で、タブの移動やコピー、削除、固定、切り離し、Window選択等  
> > 2. ブラウザキャッシュ、クッキーの削除
> > 3. 定型文貼り付け  
> > 4. CSS挿入  
> > 5. JavaScript実行  
> > 
> > JavaScript実行機能では、ユーティリティオブジェクトを利用して、キー入力を操作することができます。  

> **バッチ実行機能**
> 
> > 上記の機能を組み合わせて登録して、一度のショートカットキーで呼び出すことができます。  
> >  

> **コンテンツ（ページ）スクリプトレス設計**
> 

<a name="usage"></a>
###### オプションページの基本操作
> - **キーボードタイプの変更**  
>
>    お使いのキーボードに合わせて、画面右上のキーボード選択ドロップダウンリストから  
>    109日本語キーボードか、104英語キーボードのどちらかを選択します。  
>
>    なお、キーボードタイプに合わせて、ショートカットキーヘルプの言語が自動的に変更される暫定仕様になっています。
> 
> - **ショートカットキーの登録**
> 
>  1. AddNewボタンをクリックしてからショートカットキーを押下するか、直接ショートカットキーを押下して  
>     新しく割り当てるショートカットキー（New）を登録します。  
> > 
> >    - ファンクションキーは単独でショートカットキーになります。  
> >    - マウスイベントは次の組み合わせが登録できます。  
> > 
> >        Ctrl|Alt|Shift|Winキー + マウスクリック（左or右or中クリック）  
> >        Ctrl|Alt|Shift|Winキー + マウスホイール  
> >        マウスクリック（左or右or中クリック） + マウスホイール  
> >        マウスクリック（左or右or中クリック） + マウスクリック（左or右or中クリック）  
> >    - AddNewボタンはフォーカスが当たっている行の上に追加されます。 直接ショートカットキーを押下した場合は、常に最後に追加されます。
> >    - 既に登録済みのショートカットキーは登録できません。  
> >    - Alt+Tab、Ctrl+Esc、Win+EなどのWindowsショートカットキーは登録できません。
>
>  2. 自動的に、変更したいキー（Origin）の入力にフォーカスされるので  
>     任意のキーを押下して登録します。
> > 
> >    - Originがショートカットキーで、Chromeのショートカット機能が割り当てられている場合は、Commentにショートカットキーヘルプが表示されます。
> >    - 修飾キー（Ctrl、Shift、Alt、Winキー）は単独では登録できません。
> >    - マウスイベントは登録できません。
> >    - その他、アプリケーションキーやプリントスクリーンキー、日本語入力関連のキー等、一部登録できないキーがあります。

> - **ショートカットキーの変更**
>
>    割り当てるショートカットキー(New)、変更したいキー(Origin)のどちらも  
>    フォーカスが当たっている状態でキーを押下すれば変更できます。
>
>    Originは重複可ですが、Newは登録済みのショートカットキーには変更できません。

> - **機能（Mode）の変更**
>
>    初期登録時は、Mode列に<i class="icon-random"></i>(Remap)が表示されています。  
>    マウスカーソルをあわせると<i class="icon-caret-down"></i>アイコンが表示されるので、クリックするとメニューが表示されます。
>    以下のメニューがあります。
> >
> >    <i class="icon-random"></i>**Remap** ..................... ショートカットキーを別のショートカットキーに割り当てます。  
> > 
> >    <i class="icon-cog"></i>**Command** .............. 拡張コマンドをショートカットキーに割り当てます。   
> > 　　　　　　　　　　　　　　　 [コマンド選択](#command)ダイアログが開き、続けて、追加オプションが必要な場合、<wbr>[拡張コマンドのオプション](#commandOptions)入力ダイアログが開きます。  
> > 
> >    <i class="icon-bookmark"></i>**Bookmark** .............. ブックマークをショートカットキーに割り当てます。  
> > 　　　　　　　　　　　　　　　 ブックマーク選択ダイアログが開き、続けて[ブックマークのオプション](#bookmarkOptions)入力ダイアログが開きます。  
> > 
> >    <i class="icon-ban-circle"></i>**Disabled** .................. ショートカットキーを無効にして使用不可にします。  
> > 
> >    <i class="icon-eye-close"></i>**Sleep** ......................... バッチ実行登録時に選択できます。  次の機能を呼び出すまでの時間（間隔）を調整します。 
> > 
> >    <i class="icon-comment-alt"></i>**Comment** ................ バッチ実行登録時に選択できます。 何も実行されません。 バッチのタイトルやメモ替わりに使用します。  
> 
>    なお、Modeを変更すると、拡張コマンドやブックマークに設定していたオプションは消去されるので、ご注意ください。

> 以下は、各行の右端に表示されるアイコンボタン[<i class="icon-caret-down"></i>]クリック時のメニューから選択します。  
> メニュー項目は、Modeにより一部内容が異なります。
> 
> - **ショートカットキーの削除**  
>    「Delete」を選択します。 復帰はできませんので、ご注意ください。
> - **ショートカットキーの一時停止**  
>    「Pause」を選択します。 一時的にショートカットキーの割り当てを停止します。 次回メニューの「Resume」を選択して復帰させることができます。
> - **拡張コマンドの編集**  
>    「Edit Command」を選択します。 編集可能な拡張コマンド選択時のみ選択できます。
> - **ブックマークの編集**  
>    「Edit Bookmark」を選択します。 ブックマークのときに選択できます。
> - **Commentの編集（メモ機能）**  
>    「Edit comment」を選択します。 Remap/Disabled/Commentモード時に、Commentが空欄のときに選択できます。  
>    メモ的な用途で利用します。
> - **コンテキストメニューへの登録**  
>    「Create/Edit context menu」を選択します。 [コンテキストメニュー登録・編集](#ctxMenuOptions)ダイアログが開きます。
> - **バッチ実行の追加キーイベントの登録**  
>    「Add command」を選択します。 詳細は、[バッチ実行機能](#batch)を参照してください。
> - **ショートカットキー操作スクリプトのコピー**  
>    「Copy script」を選択します。  
>    拡張コマンドのInject scriptで使用する、JavaScriptのショートカットキー操作スクリプトが、クリップボードにコピーされます。
> 

<a name="command"></a>
###### 拡張コマンド一覧
> > 
> - Tab commands  
>    - **Create new tab**  
>        アクティブなタブの右隣に、新しいタブを作成します。 新しいタブがアクティブになります。  
>    - **Create new tab in background**  
>        アクティブなタブの右隣に、新しいタブを作成しますが、アクティブなタブは変更されません。  
>    - **Close other tabs**  
>        アクティブなタブ以外の、現在のウィンドウ内のタブを、すべて閉じます。  
>    - **Close tabs to the left/right**  
>        アクティブなタブの左側もしくは右側のタブを、すべて閉じます。
>    - **Move current tab left/right**  
>        アクティブなタブを、左もしくは右へ一つ移動します。 最端位置から循環はしません。
>    - **Move current tab to first/last position**  
>        アクティブなタブを、左端(first)もしくは右端(last)へ移動します。
>    - **Duplicate current tab**  
>        アクティブなタブを複製して、タブの右隣に新たに作成します。
>    - **Pin/Unpin current tab**  
>        アクティブなタブを、固定するか、もしくは固定されいている場合は固定を解除します。
>    - **Detach current tab**  
>        アクティブなタブを、ウィンドウから切り離して、新しいウィンドウに作成します。
>    - **Attach current tab to the next window**  
>        アクティブなタブを、現在開いている別のウィンドウに順次移動します。
> - Window commands  
>    - **Switch to the previous/next window**  
>        アクティブなウィンドウを順次切り替えます。
>    - **Close other windows**  
>        アクティブなウィンドウ以外のすべてのウィンドウを閉じます。
> - Browsing data commands  
>    - **Clear the browser's cache**  
>        ブラウザキャッシュをクリアします。
>    - **Clear the browser's cookies and site data**  
>        ブラウザのクッキーとサイトデータ（サーバ証明書等）をすべてクリアします。
>    - **Clear all cookies for the current domain**  
>        アクティブなページのサイトと同じドメインのクッキーをすべてクリアします。
> - Other  
>    - **Paste fixed text**  
>        登録した定型文を、クリップボードを経由して貼り付けます。  
>    - **Inject CSS**  
>        登録したCSS(Cascading Style Sheet)を、アクティブなタブのページへ適用します。  
>    - **Inject script**  
>        登録したJavaScriptコードを、アクティブなタブのページで実行します。   
>        なお、本来のページのDOMのwindowオブジェクトにはアクセスできません。

<a name="commandOptions"></a>
###### 拡張コマンドのオプション
> 拡張コマンド（Command mode）に追加オプションが必要な場合は、オプション入力ダイアログが開きます。
> 
> - Paste text、Inject CSS、Inject scriptのオプション
>    - **Caption(Optional)**  
>    オプションページのDescriptionに表示されます。 未入力の場合は、Contentに入力した1行目がセットされます。
>    - **Content**  
>    貼り付ける文字列(Paste text時)や、CSS(Inject CSS時)、JavaScriptコード(Inject script時)を入力します。  
> - Inject CSS、Inject scriptのオプション
>    - **All frames**  
>    チェック時は、ページのすべてのフレームに、CSSやJavaScriptが適用されます。  
>    未チェック時はトップフレームにのみ適用されます。
> - Inject scriptのオプション
>    - **Use utility object**  
>    チェック時に、JavaScriptからショートカットキーを操作できるObjectが利用できます。  
>    詳細は[Utility Object Reference](#utilobj)を参照してください。
>

<a name="bookmarkOptions"></a>
###### ブックマークのオプション
> ブックマークを選択すると、オプション入力ダイアログが開きます。
> 
> - ブックマークを開くオプション  
>    - **Open in current tab** .................. 現在のタブにブックマークを開きます。  
>    - **Open in new tab** ......................... 新しいタブにブックマークを開きます。  
>    - **Open in new window** ................ 新しいウィンドウにブックマークを開きます。  
>    - **Open in incognito window** ..... 新しいシークレットウィンドウにブックマークを開きます。 
>    - **Only to find the tab** ................... 開いているタブからブックマークを検索しますが、新しいブックマークは開きません。 
> - ブックマークを検索するオプション
>    - **Activate the tab if already open**  
>        チェック時、開いているタブからブックマークを検索して、見つかった場合はそのタブをアクティブにします。  
>        複数見つかった場合は、順次アクティブになります。
>    - **The title or URL to find (Partial match)**  
>        検索するブックマークの**URL**または**タブのタイトル**を入力します。 中間マッチで検索されます。

<a name="ctxMenuOptions"></a>
######  コンテキストメニューへの登録・編集
> 各行の右端に表示されるアイコンボタン[<i class="icon-caret-down"></i>]クリック時のメニューから  
> 「Create/Edit context menu」を選択すると、コンテキストメニュー登録・編集のダイアログが開きます。
> <pre>
> コンテキストメニューを登録すると、コンテキストメニュー（ページを右クリックしたときに表示されるメニュー）から  
> ショートカットキーに割り当てた機能を呼び出すことができます。
> 
> また、拡張コマンドのInject scriptで利用できる、UtilityObjectのctxDataプロパティの値にコンテキストの情報がセットされ  
> JavaScriptコードから参照することができます。
> </pre>
>
> 入力項目
> 
> - **Menu Title**  
>    コンテキストメニューに表示される文字列を指定します。  
>
>    テキスト選択(Selection)のコンテキストメニューの場合、文字列中の「%s」の箇所が、選択中のテキストに置き換わります。  
>    アルファベットの頭文字か&+アルファベットが、キーショートカットになります。 '&'を表示したい場合は、'&&'と2つ続けて記述します。
>
> - **Target Context**  
>    コンテキストメニューのメニュー項目は、右クリックする対象（コンテキスト）により異なります。  
>    どの対象のコンテキストメニューで表示させるかを選択します。
> 
>    - **Page**  
>    ページ全般で、リンクや画像、テキスト選択など何もない場所でのコンテキストメニュー  
>    ページのトップフレームのURLが返されます。
>    - **Selection**  
>    テキストを選択した状態（ハイライト）でのコンテキストメニュー  
>    選択テキストが返されます。
>    - **Editable**  
>    テキストボックスやテキストエリアなどのテキスト入力要素のコンテキストメニュー  
>    入力テキストを選択ハイライトしている場合は選択テキスト、それ以外はページのURLが返されます。
>    - **Link**  
>    リンクを右クリックしたときのコンテキストメニュー  
>    リンクのURLが返されます。
>    - **Image**  
>    画像を右クリックしたときのコンテキストメニュー  
>    画像のURLが返されます。
>    - **All**  
>    すべてのコンテキストメニューに表示されます。 対象により上記のいずれかが返されます。
>
> なお、同じTarget Contextのルートに2つ以上登録した場合は、自動的にサブメニューにまとめられます。  
> これはChrome拡張のコンテキストメニューの仕様です。  
> このとき、「D」が親メニューのキーショートカットになります。 :-D

<a name="ctxMenuManager"></a>
######  コンテキストメニューの管理
> オプションページトップのボタン「**Context menu mgr**」をクリックすると表示されます。  
> 登録されているコンテキストメニューの構成を編集できます。
>
> なお、[コンテキストメニューへの登録・編集](#ctxMenuOptions)と一部機能が重複しますので、好みで使い分けてください。（機能的には本画面ですべて賄えます）  
> 重複する機能やコンテキストメニュー機能の説明については、[コンテキストメニューへの登録・編集](#ctxMenuOptions)を参照してください。  
>
> ボタン説明
>
> - **Add Menu**  
>    コンテキストメニュー登録の候補を追加します。 TargetContextかフォルダ選択時にクリックできます。  
>    
>    オプションページトップにフォーカスが移るので、登録したいショートカットキー機能を選択して、Addボタンをクリックします。<br />
>    選択は、Ctrlキー+マウスクリックか、マウスで範囲選択すると複数選択できます。
> - **Add Folder**  
>    サブメニューの親メニュー（フォルダ）を追加します。 TargetContext選択時にクリックできます。  
>    サブメニューは1階層のみ登録可能です。
> - **Rename**  
>    フォルダ名またはコンテキストメニュータイトルを編集します。 フォルダ、コンテキストメニュータイトル選択時にクリックできます。  
> - **Remove**  
>    フォルダまたはコンテキストメニュー登録を削除します。 フォルダ、コンテキストメニュータイトル選択時にクリックできます。  
>
>    このボタンでは、Doneボタンをクリックするまで、実際のコンテキストメニューからは削除されません。 
> - **Done**  
>    編集内容がコンテキストメニューに反映されます。  
>
> コンテキストメニュー構成の変更
> > コンテキストメニュータイトルまたはフォルダは、マウスのドラッグ操作で、並び順やTargetContextを変更することができます。   
>    

<a name="batch"></a>
######  バッチ実行機能
> 一度のショートカットキーで、複数のショートカットキー機能や拡張コマンド、ブックマークを順次呼び出すことができます。  
>
> 各行の右端に表示されるアイコンボタン[<i class="icon-caret-down"></i>]クリック時のメニュー「**Add command**」をクリックして、呼び出す機能を追加していきます。  
> 一つ以上追加することで、自動的にバッチ実行モードになり、「Sleep」や「Comment」モードを選択できます。  


<a name="notes"></a>
###### 備考・注意事項
> - オプションページの設定の保存は自動的に行われます。 特に保存ボタン等はありません。  
>    （タブまたはウィンドウの切り替え時に保存が実行され、設定はすぐに反映されます）
> - オプションページは各行をドラッグして並び順を変更できます。  
>    なお、行が多く、スクロールバーが表示されている状態のとき、ドラッグ中にスクロールされないときがありますが  
>    そのときはタイトルや周りの余白をクリックしてから再度試みてください。  
> - 登録できるアイテム数は、バッチの子アイテムも数えて、最大100個までです。
> - ブックマーク、定型文貼り付け、CSS挿入、JavaScript実行機能ではキーリピートは効きません。  
> 
>    定型文貼り付けでは、クリップボードにテキストが残っているので  
>    キーリピートさせたい場合は、Ctrl+V(または相当のショートカットキー)に切り替えてください。
> - 他のChrome拡張と同じく、Chrome設定関連のページやローカルファイルページでは、本拡張は無効になります。（単純なリマップは有効です）
> - マウスホイールイベントでホイール高分解能マウスは未検証です。
> 

<a name="utilobj"></a>
###### Utility Object Reference

> **Methods**
> 
> ###### `tsc.send(string keycode[, optional integer sleepMillisecond])`  
> > 
> > ショートカットキーを呼び出します。  
> > リマップや拡張コマンド、ブックマークを割り当て済みのショートカットキーはそれらが呼び出されます。  
> > 自己参照、循環参照がある場合は無限ループになってしまう為、注意してください。
> > 
> > - _keycode(string)_  
> > 
> >    書式: [_modifierkeys_]_keyIdentifier_    
> > 
> >    _modifierkeys_は**C**trl,**A**lt,**S**hift,**W**inキーの頭文字の組み合わせを指定します。  
> >    単独のファンクションキーのときは角括弧を省略できます。
> > 
> >    _keyIdentifier_はキートップに刻印されている文字をそのまま指定します。  
> >    この際、Shiftキーが含まれるときでも、大文字や上段シフトの文字を指定する必要はありません。（どちらでも構いません）  
> >    特殊キーについては、ショートカットキー登録時の値を参照してください。 大文字小文字を区別します。  
> > 
> >    ショートカットキー以外の単独キーは無視されます。  
> > 
> > - _sleepMillisecond(integer default 100)_  
> > 
> >    メソッド実行後の、次のtscオブジェクトメソッドが実行されるまでの間隔を、ミリ秒単位で指定します。  
> >    値の範囲は、0-60000(60秒)までで、値を指定しない場合の規定値は100ミリ秒です。  
> >    なお、通常のJavaScriptコマンドには影響しません。  
> > 
> > Code Exsample  
> > 
> > 次のコードは、タブを左隣りに作成します。
> > <pre>
> > tsc.send('[ca]n'); /* Ctrl+Alt+n Create new tab を割り当てたショートカットキーを呼び出し */
> > tsc.send('[ca]z'); /* Ctrl+Alt+z Move current tab left を割り当てたショートカットキーを呼び出し */
> > </pre>

> ###### `tsc.keydown(string keycode[, optional integer sleepMillisecond])`  
> > 
> > 指定したキーを押下します。 単独キーも指定できます。  
> > ショートカットキーを指定した場合は、リマップ等割り当て済みのショートカットキーでもそれらは呼び出されず、単にキー押下が実行されます。
> > 
> >    引数の書式は_send_メソッドと同じです。
> > 
> > Code Exsample  
> > 
> > 次のコードは、ウィンドウを閉じるときに確認してから閉じます。  
> > Ctrl+Shift+W（Chrome標準のウィンドウを閉じるショートカットキー）に割り当てた場合を想定しています。
> > <pre>
> > if (confirm('ウィンドウを閉じますか？')) {
> >   tsc.keydown('[cs]w'); /* sendメソッドでは自己参照になってしまう為、keydownメソッドを使用 */
> > }
> > </pre>
> > 
> > 次のコードは、ページのソースを開いてコピーするか保存するかして、開いたソースのページを閉じます。
> > <pre>
> > tsc.keydown('[c]u', 1000); /* Ctrl+u 現在のページのソースを開きます。実際のページが表示されるまでの猶予を1秒見ています。 */
> > tsc.keydown('[c]a');       /* Ctrl+a */
> > tsc.keydown('[c]c');       /* コピーする場合。Ctrl+c ハイライト表示されたコンテンツをクリップボードにコピーします。 */
> > tsc.keydown('[c]s', 1000); /* 保存する場合。Ctrl+s 現在のページを保存します。 */
> > tsc.keydown('Enter');      /* Enterキー */
> > tsc.keydown('[c]w');       /* Ctrl+w 現在のタブまたはポップアップを閉じます。 */
> > </pre>
> > 
> > 次のコードは、選択したテキストをページ内検索します。  
> > また、何も選択しないで実行した場合は、クリップボードにあるテキストが検索されます。
> > <pre>
> > tsc.keydown('[c]c'); /* Ctrl+c ハイライト表示されたコンテンツをクリップボードにコピーします。 */
> > tsc.keydown('[c]f'); /* Ctrl+f 検索バーを開きます。 */
> > tsc.keydown('[c]v'); /* Ctrl+v クリップボードからコンテンツを貼り付けます。 */
> > </pre>
> > 
> > 次のコードは、リンクになっていないURLを選択した場合にそのURLを開きます。（通常のテキストはGoogleでの検索）  
> > また、何も選択しないで実行した場合は、クリップボードにあるテキストが検索されます。
> > <pre>
> > tsc.keydown('[c]c');
> > tsc.send('[ca]n');    /* Ctrl+Alt+n Create a new tab を割り当てたショートカットキーを呼び出し */
> > tsc.keydown('[c]v');
> > tsc.keydown('Enter'); /* Enterキー */
> > </pre>
<!--
> > 
> > 次のコードは、ブックマークバーを開き、更にその他のブックマークフォルダを開きます。
> > <pre>
> > tsc.keydown('[cs]b');     /* Ctrl+Shift+b ブックマーク バーの表示/非表示を切り替えます。 */
> > tsc.keydown('F6', 200);   /* F6 キーボードからアクセス可能な次のペインにフォーカスが移動します。 */
> > tsc.keydown('F6', 200);   /* F6 キーボードからアクセス可能な次のペインにフォーカスが移動します。 */
> > tsc.keydown('Left', 200); /* ←（左カーソルキー） */
> > tsc.keydown('Down', 200); /* ↓（下カーソルキー） */
> > </pre>
-->

> ###### `tsc.sleep(integer sleepMillisecond)`  
> > 
> > 指定したミリ秒間スリープして、次のtscオブジェクトメソッドの実行開始を遅らせます。  
> > なお、通常のJavaScriptコマンドには影響しません。

> ###### `tsc.clipbd(string text)`  
> > 
> > 文字列をクリップボードに貼付けます。
> >
> > Code Exsample  
> > 
> > 次のコードは、URLのリンクタグをクリップボードに貼り付けます。
> > <pre>
> > var url = document.location.href;
> > var elTitle = document.querySelector('title'), title;
> > if (elTitle) {
> >   title = elTitle.textContent;
> > } else {
> >   title = url;
> > }
> > tsc.clipbd('&lt;a href="' + url + '"&gt;' + title + '&lt;/a&gt;');
> > </pre>

> ###### `tsc.send(...).done(function callback)`  
> ###### `tsc.keydown(...).done(function callback)`
> ###### `tsc.sleep(...).done(function callback)`
> ###### `tsc.clipbd(...).done(function callback)`
> >  
> > 各tscオブジェクトメソッドの呼び出しを終了してから、登録したファンクションを実行します。  
> > スリープを指定していた場合は、スリープ時間経過後に実行されます。
> > 
> > tscオブジェクトメソッド間は自動的に同期されるため、このメソッドは必要ありません。
> > 
> > Code Exsample  
> > 
> > <pre>
> > tsc.sleep(5000).done(function() { alert('5秒経過'); });
> > </pre>

> ###### `tsc.getClipbd().done(function callback(string text))`  
> >  
> > クリップボードにあるテキストを取得します。
> > 
> > 取得するテキストは、_done_メソッドに登録したコールバックファンクションに渡される引数から取得する必要があります。
> > 
> > Code Exsample  
> > 
> > <pre>
> > tsc.getClipbd().done(function(text) { alert(text); });
> > </pre>

> **Properties**
> 
> ###### `tsc.ctxData(string)`  
> > 
> > コンテキストメニューからスクリプトが呼ばれた場合に、対象コンテキストの情報がセットされます。
> > 
> > このプロパティの値は、次のコンテキストメニュー呼び出しがあるまで変更されず、
> > 他のスクリプトからも同じ値が参照できます。
